# Multi-Agent Configuration: Dual SpanKind Pattern
# This configuration demonstrates a parent agent with both INTERNAL and CLIENT children
# to validate that the observability stack correctly handles both span kind patterns.
#
# Trace Structure:
# ================
# Trace ID: <shared across all agents>
# │
# ├─ Span: invoke_agent Parent Agent (kind: INTERNAL)
# │  │ span_id: <parent_span_id>
# │  │ parent_span_id: null
# │  │ gen_ai.agent.id: "parent_dual_001"
# │  │ gen_ai.agent.name: "Parent Agent"
# │  │ gen_ai.conversation.id: <conversation_id>
# │  │
# │  ├─ Span: invoke_agent Internal Child Agent (kind: INTERNAL)
# │  │  │ span_id: <internal_child_span_id>
# │  │  │ parent_span_id: <parent_span_id>
# │  │  │ gen_ai.agent.id: "child_internal_001"
# │  │  │ gen_ai.agent.name: "Internal Child Agent"
# │  │  │ gen_ai.conversation.id: <conversation_id>
# │  │  │
# │  │  └─ Span: chat gpt-4 (internal child's LLM call)
# │  │     │ parent_span_id: <internal_child_span_id>
# │  │
# │  └─ Span: invoke_agent Client Child Agent (kind: CLIENT)
# │     │ span_id: <client_child_span_id>
# │     │ parent_span_id: <parent_span_id>
# │     │ gen_ai.agent.id: "child_client_001"
# │     │ gen_ai.agent.name: "Client Child Agent"
# │     │ gen_ai.conversation.id: <conversation_id>
# │     │
# │     └─ Span: chat gpt-4 (client child's LLM call)
# │        │ parent_span_id: <client_child_span_id>
#
# Expected Span Relationships:
# ============================
# 1. All spans share the same trace_id
# 2. Internal child's parent_span_id == parent's span_id
# 3. Client child's parent_span_id == parent's span_id
# 4. All spans share the same gen_ai.conversation.id
# 5. Each agent has unique gen_ai.agent.id and gen_ai.agent.name
# 6. Parent span has kind: INTERNAL
# 7. Internal child span has kind: INTERNAL
# 8. Client child span has kind: CLIENT
#
# SpanKind Behavior:
# ==================
# - INTERNAL: Represents in-process agent invocations (e.g., LangChain agents, CrewAI agents)
#   Used when the child agent is part of the same application process
# - CLIENT: Represents remote agent service calls (e.g., OpenAI Assistants API, AWS Bedrock Agents)
#   Used when the child agent is accessed as an external service
#
# Note: Both span kinds run in the same process and share the same mode (mock or real).
# The span_kind only affects the OpenTelemetry span attribute for observability purposes.

# Mode: mock or real
# When mock: all agents use MockLLMProvider and MockToolProvider
# When real: all agents use RealLLMProvider and RealToolProvider
mode: mock

# Parent agent configuration
agent:
  agent_id: parent_dual_001
  agent_name: Parent Agent
  span_kind: INTERNAL  # Parent uses INTERNAL span kind
  
  # Child agents with different span kinds
  children:
    # Child agent using INTERNAL span kind
    # Simulates in-process agent invocation pattern
    - agent_id: child_internal_001
      agent_name: Internal Child Agent
      span_kind: INTERNAL
      description: Simulates in-process agent invocation (e.g., LangChain, CrewAI)
    
    # Child agent using CLIENT span kind
    # Simulates remote agent service invocation pattern
    - agent_id: child_client_001
      agent_name: Client Child Agent
      span_kind: CLIENT
      description: Simulates remote agent service invocation (e.g., OpenAI Assistants, Bedrock)

# Mock provider settings (applies to all agents when mode: mock)
mock_settings:
  # Simulated latency for LLM calls (milliseconds)
  llm_latency_ms: 100
  
  # Simulated latency for tool calls (milliseconds)
  tool_latency_ms: 50
  
  # Tool failure rate (0.0 to 1.0)
  tool_failure_rate: 0.0

# OpenTelemetry configuration
otlp:
  # OTLP collector endpoint
  # Use localhost for local development, or service name in Docker/K8s
  endpoint: http://localhost:4317
  
  # Whether to use insecure connection (true for development)
  insecure: true

# Scenarios to execute
scenarios:
  - multi_agent

# Telemetry validation (optional)
validation:
  # Prometheus URL for metrics validation
  prometheus_url: http://localhost:9090
  
  # OpenSearch URL for traces/logs validation
  opensearch_url: https://localhost:9200
  
  # OpenSearch credentials
  opensearch_user: admin
  opensearch_password: admin
